(function(e){e.skEasyAjax=function(t,n){var r={defaultAjaxTargetUrl:"",onStart:function(e){},onComplete:function(e){},onError:function(e){}};var i=this;i.callBackFunction="";i.settings={};var s=e(t),t=t;i.init=function(){i.settings=e.extend({},r,n);o()};var o=function(){s.bind("click",a)};var u=function(){s.unbind("click",a);o()};var a=function(t){var n=s.data("params");if(s.attr("data-callBack")!=undefined){i.callBackFunction=s.attr("data-callBack")}if(s.data("url")!=undefined){var r=s.data("url")}else{var r=i.settings.defaultAjaxTargetUrl}var o={params:JSON.stringify(n)};if(s.data("token")!=undefined){o.token=s.data("token")}o.action=s.data("action");i.settings.onStart(s);e.ajax({url:r,type:"post",data:o,success:function(e){i.settings.onComplete(s);f(e)},error:function(e){i.settings.onComplete(s);i.settings.onError(e)}})};var f=function(t){if(typeof t=="object"){var n=t}else{var n=JSON.parse(t)}if(n.status==0){i.settings.onError(n)}if(typeof window[i.callBackFunction]=="function"){if(n.callBackParams){window[i.callBackFunction](n.callBackParams)}else{window[i.callBackFunction]()}}else{e(window).trigger(i.callBackFunction)}u()};i.init()};e.fn.skEasyAjax=function(t){return this.each(function(){if(undefined==e(this).data("skEasyAjax")){var n=new e.skEasyAjax(this,t);e(this).data("skEasyAjax",n)}})}})(jQuery)