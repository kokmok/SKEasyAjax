!function(t){t.skEasyAjax=function(a,n){var e={defaultAjaxTargetUrl:"",onStart:function(t){},onComplete:function(t){},onError:function(t){},targetSelector:".ajax_action"},i=this;i.callBackFunction="",i.settings={};var c=t(a),a=a;i.init=function(){i.settings=t.extend({},e,n),o()},i.refresh=function(){r()};var o=function(){c.each(function(){"FORM"==t(this).prop("tagName")?t(this).bind("submit",s):t(this).bind("click",s)})},r=function(){c.each(function(){c.unbind("click",s),c.unbind("submit",s)}),c=t(i.settings.targetSelector),a=c.get(),o()},s=function(n){var e=t(n.target),c=e.data("params");if(void 0!=e.attr("data-callBack")&&(i.callBackFunction=e.attr("data-callBack")),void 0!=e.data("url"))var o=e.data("url");else var o=i.settings.defaultAjaxTargetUrl;var r={params:JSON.stringify(c)};void 0!=e.data("token")&&(r.token=e.data("token")),r.action=e.data("action"),"FORM"==e.prop("tagName")&&(n.preventDefault(),r=new FormData(a)),i.settings.onStart(e);var s=new XMLHttpRequest;s.onload=function(t){i.settings.onComplete(e),u(this.responseText)},s.open("post",o),s.send(r)},u=function(a){if("object"==typeof a)var n=a;else var n=JSON.parse(a);0==n.status&&i.settings.onError(n),"function"==typeof window[i.callBackFunction]?n.callBackParams?window[i.callBackFunction](n.callBackParams):window[i.callBackFunction]():t(window).trigger(i.callBackFunction),r()};i.init()},t.fn.skEasyAjax=function(a){return this.each(function(){if(void 0==t(this).data("skEasyAjax")){var n=new t.skEasyAjax(this,a);t(this).data("skEasyAjax",n)}})}}(jQuery),jQuery.fn.MytoJson=function(t){t=jQuery.extend({},t);var a=this,n={},e={},i={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};this.build=function(t,a,n){return t[a]=n,t},this.push_counter=function(t){return void 0===e[t]&&(e[t]=0),e[t]++};var c=jQuery(this).serializeArray();return jQuery(this).find("input[type=checkbox]").each(function(){if("checked"==$(this).attr("checked")){var t=$(this),a=!1;$(c).each(function(){return this.name==t.attr("name")&&this.value==t.val()?void(a=!0):void 0}),a||c.push({name:$(this).attr("name"),value:$(this).val()})}}),$(this).find("input[type=file]").each(function(t,a){c.push({name:$(this).attr("name"),value:encodeURIComponent($(this).val())})}),jQuery.each(c,function(){for(var t,e=this.name.match(i.key),c=this.value,o=this.name;void 0!==(t=e.pop());)o=o.replace(new RegExp("\\["+t+"\\]$"),""),t.match(i.push)?c=a.build([],a.push_counter(o),c):t.match(i.fixed)?c=a.build([],t,c):t.match(i.named)&&(c=a.build({},t,c));n=jQuery.extend(!0,n,c)}),n};